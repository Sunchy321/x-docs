%!TEX root = x.tex

\rSec0[core.seq]{序列库}
\indextext{库!序列库}

\pnum
\tcode{core.seq}库定义了序列概念，并提供了一些操作序列的函数。

\rSec1[core.seq.traits]{概念}

\indexlibrary{\idxcode{Sequence}}
\begin{itemdecl}
trait Sequence<T> {
    type Item = T;
    type Iterator : core::Iterator<T>;

    let size: uint;
    let iterator: Iterator;

    func map(f: T -> U) -> self<U>;

    func operator\{\dollar}() { this.size }
}
\end{itemdecl}

\pnum
\tcode{Sequence}表示序列。

\pnum
\tcode{Item}是序列的元素类型，其始终为\tcode{T}。

\pnum
\tcode{Iterator}是序列的迭代器类型，其必须实现了\tcode{Iterator<T>}。

\pnum
\tcode{size}是序列的大小。序列重载了\tcode{operator\$}，返回\tcode{size}。

\pnum
\tcode{iterator}是序列的迭代器。

\pnum
\tcode{map}将序列中的每个元素应用函数\tcode{f}，返回一个新的序列。

\indexlibrary{\idxcode{Iterator}}
\begin{itemdecl}
trait Iterator<T> {
    type Item = T;

    func next(this: mut) -> T?;
}
\end{itemdecl}

\pnum
\tcode{Iterator}表示迭代器。

\pnum
\tcode{next}返回迭代器的下一个元素，如果迭代器已经到达末尾，则返回\tcode{nil}。

\rSec1[core.seq.helper]{辅助函数}
